!function(){"use strict";var e=jQuery;e(document).ready(function(){function a(e){var a=new google.maps.LatLng(e.data("lat"),e.data("lng")),o={zoom:parseInt(window.casawpOptionParams.google_maps_zoomlevel),mapTypeId:google.maps.MapTypeId.ROADMAP,center:a,disableDefaultUI:!1,zoomControl:!0,scrollwheel:!1,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_BOTTOM},mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"gray_map"]}};e.show(),map=new google.maps.Map(document.getElementById("map-canvas"),o);new google.maps.Marker({map:map,position:a,icon:new google.maps.MarkerImage("/wp-content/themes/moessinger/img/locationX2.png",new google.maps.Size(60,96),null,null,new google.maps.Size(30,48))});map.mapTypes.set("gray_map",new google.maps.StyledMapType([{stylers:[{saturation:-90}]}],{name:"Gray Map"})),map.setMapTypeId("gray_map")}function o(){e(".collapse-toggle").find(".fa").removeClass("fa-minus").addClass("fa-plus"),e(".panel-collapse:not(.collapse)").slideUp("slow")}function n(e){var a=e.parent().next();e.find(".fa").removeClass("fa-plus").addClass("fa-minus"),a.slideDown("slow",function(){a.removeClass("collapse")})}function t(e){var a=e.parent().next();e.find(".fa").removeClass("fa-minus").addClass("fa-plus"),a.slideUp("slow",function(){a.addClass("collapse")})}function s(e){return!!e.find(".fa").hasClass("fa-plus")}function l(){var e={center:{lat:46.933896,lng:7.423095},scrollwheel:!1,zoom:14,mapTypeControlOptions:{mapTypeIds:["gray_map",google.maps.MapTypeId.SATELLITE]}},a=new google.maps.Map(document.getElementById("googleMap"),e),o=new google.maps.LatLng(46.933896,7.423095),n=new google.maps.Marker({position:o,map:a,title:"MÃ¶ssinger Immobilien",url:"https://www.google.ch/maps/place/Max+M%C3%B6ssinger/@46.9338931,7.423091,15z/data=!4m2!3m1!1s0x0:0xe143b9f44020ef65?sa=X&ved=0ahUKEwjn0NOJ8cXOAhVG8RQKHZNiBLsQ_BIIajAK",icon:new google.maps.MarkerImage("/wp-content/themes/moessinger/img/moe.png",new google.maps.Size(40,52),null,null,new google.maps.Size(40,52))});a.mapTypes.set("gray_map",new google.maps.StyledMapType([{stylers:[{saturation:-90}]}],{name:"Karte"})),a.setMapTypeId("gray_map"),google.maps.event.addListener(n,"click",function(){window.open(this.url,"_blank")})}e(".matchHeight").matchHeight(),e(".banner").parallax(),e(".secondBanner").parallax(),jQuery.fn.getTitle=function(){var e=jQuery("a.fancybox");jQuery.each(e,function(){var e=jQuery(this).children("img").attr("title");jQuery(this).attr("title",e)})};var r=jQuery("a:has(img)").not(".nolightbox").filter(function(){return/\.(jpe?g|png|gif|bmp)$/i.test(jQuery(this).attr("href"))});r.addClass("fancybox").attr("rel","fancybox").getTitle(),jQuery("a.fancybox").fancybox(),e(".navbar-header").click(function(a){(e(a.target).hasClass("navbar-header")||e(a.target).hasClass("navbar-brand"))&&e(this).find(".navbar-toggle").click()}),e(".casawp-map").length&&google&&e(".casawp-map").each(function(){var o=e(this);if(o.data("lat")&&o.data("lng")){a(o)}}),e(".open").click(function(){e(this).find(".fa").removeClass("fa-minus").addClass("fa-plus")}),e(".collapse-toggle").click(function(a){a.preventDefault(),s(e(this))?(o(),n(e(this))):(o(),t(e(this)))}),e("#googleMap").length&&google.maps.event.addDomListener(window,"load",l),e("#nav-icon1,#nav-icon2,#nav-icon3,#nav-icon4").click(function(){e(this).toggleClass("open")}),e(".casawp-property").click(function(){var a=e(this).find("a").attr("href");return window.location.href=a,!1}),e(".casawp-property").click(function(){var e=jQuery(this).find("a").attr("href");return window.location.href=e,!1}),e.fn.clicktoggle=function(a,o){return this.each(function(){var n=!1;e(this).click(function(){return n?(n=!1,o.apply(this,arguments)):(n=!0,a.apply(this,arguments))})})},e(".readmore-contents").css("height",e(".readmore-contents .teaser").height()+30),setTimeout(function(){e(".readmore-contents").removeClass("transition-delayer")},800),e(".readmore-wrap .more").click(function(){var a=e(this).siblings(".readmore-contents");a.hasClass("show-full")?(a.css("height",e(".readmore-contents .teaser").height()+30),e(this).find(".collapse-arrow").css("transform","rotate(0deg)"),setTimeout(function(){a.removeClass("show-full"),a.parent().removeClass("show-full")},800)):(a.addClass("show-full"),a.parent().addClass("show-full"),a.css("height",e(".readmore-contents .complete").height()+30),e(this).find(".collapse-arrow").css("transform","rotate(180deg)"))})})}(jQuery);
function closebox(){ib.close()}function initThemeMap(){$firstmarker=$("#cs-map").siblings(".marker").first();var a=$firstmarker.data("lat"),e=$firstmarker.data("lng"),o={zoom:14,scrollwheel:!1,center:new google.maps.LatLng(a,e),disableDefaultUI:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_BOTTOM},mapTypeControlOptions:{mapTypeIds:["gray_map",google.maps.MapTypeId.SATELLITE]}},t="cs-map";map=new google.maps.Map(document.getElementById(t),o),map.mapTypes.set("gray_map",new google.maps.StyledMapType([{stylers:[{saturation:-90}]}],{name:"Karte"})),map.setMapTypeId("gray_map"),google.maps.event.addListenerOnce(map,"tilesloaded",function(){setMarkers()})}function setMarkers(){var a=$("#cs-map").siblings(".marker");deleteMarkers();var e=new google.maps.LatLngBounds;$.each(a,function(a,o){lat=$(o).data("lat"),lng=$(o).data("lng"),lat&&lng&&(marker=new google.maps.Marker({position:new google.maps.LatLng(lat,lng),map:map}),google.maps.event.addListener(marker,"click",function(){window.open("http://maps.google.com/maps?q=loc:"+lat+","+lng,"_blank")}),e.extend(new google.maps.LatLng(lat,lng)),markers.push(marker))}),a.length>1&&map.fitBounds(e)}function deleteMarkers(){clearMarkers(),markers=[]}function clearMarkers(){setAllMap(null)}function setAllMap(a){for(var e=0;e<markers.length;e++)markers[e].setMap(a)}var ib=null,$=jQuery,map=null,markers=[];
!function(){var e=jQuery;e(".page-template-team-archive").length}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJjb250YWN0LWdvb2dsZS1tYXAvc2NyaXB0cy5qcyIsInRlYW0tYXJjaGl2ZS9zY3JpcHRzLmpzIl0sIm5hbWVzIjpbIiQiLCJqUXVlcnkiLCJkb2N1bWVudCIsInJlYWR5IiwiaW5pdGlhbGl6ZU1hcCIsIiRtYXB3cmFwZXIiLCJsb2NhdGlvbiIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJkYXRhIiwibWFwT3B0aW9ucyIsInpvb20iLCJwYXJzZUludCIsIndpbmRvdyIsImNhc2F3cE9wdGlvblBhcmFtcyIsImdvb2dsZV9tYXBzX3pvb21sZXZlbCIsIm1hcFR5cGVJZCIsIk1hcFR5cGVJZCIsIlJPQURNQVAiLCJjZW50ZXIiLCJkaXNhYmxlRGVmYXVsdFVJIiwiem9vbUNvbnRyb2wiLCJzY3JvbGx3aGVlbCIsInpvb21Db250cm9sT3B0aW9ucyIsInN0eWxlIiwiWm9vbUNvbnRyb2xTdHlsZSIsIlNNQUxMIiwicG9zaXRpb24iLCJDb250cm9sUG9zaXRpb24iLCJMRUZUX0JPVFRPTSIsIm1hcFR5cGVDb250cm9sT3B0aW9ucyIsIm1hcFR5cGVJZHMiLCJzaG93IiwibWFwIiwiTWFwIiwiZ2V0RWxlbWVudEJ5SWQiLCJNYXJrZXIiLCJpY29uIiwiTWFya2VySW1hZ2UiLCJTaXplIiwibWFwVHlwZXMiLCJzZXQiLCJTdHlsZWRNYXBUeXBlIiwic3R5bGVycyIsInNhdHVyYXRpb24iLCJuYW1lIiwic2V0TWFwVHlwZUlkIiwicmVzZXRBY2NvcmRpb24iLCJmaW5kIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInNsaWRlVXAiLCJvcGVuQWNvb3JkaW9uSXRlbSIsIiRlbGVtIiwiJHNoZWxmIiwicGFyZW50IiwibmV4dCIsInNsaWRlRG93biIsImNsb3NlQWNvb3JkaW9uSXRlbSIsImFjY29yZGlvbklzT3BlbiIsImhhc0NsYXNzIiwiaW5pdGlhbGl6ZSIsImxhdCIsImxuZyIsIlNBVEVMTElURSIsIm1hcmtlcnBvcyIsIm1hcmtlciIsInRpdGxlIiwidXJsIiwiZXZlbnQiLCJhZGRMaXN0ZW5lciIsIm9wZW4iLCJ0aGlzIiwibWF0Y2hIZWlnaHQiLCJwYXJhbGxheCIsImZuIiwiZ2V0VGl0bGUiLCJhcnIiLCJlYWNoIiwiY2hpbGRyZW4iLCJhdHRyIiwidGh1bWJuYWlscyIsIm5vdCIsImZpbHRlciIsInRlc3QiLCJmYW5jeWJveCIsImNsaWNrIiwidGFyZ2V0IiwibGVuZ3RoIiwicHJldmVudERlZmF1bHQiLCJhZGREb21MaXN0ZW5lciIsInRvZ2dsZUNsYXNzIiwiaHJlZiIsImNsaWNrdG9nZ2xlIiwiYSIsImIiLCJjbGlja2VkIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJjc3MiLCJoZWlnaHQiLCJzZXRUaW1lb3V0IiwiJHJlYWRtb3JlIiwic2libGluZ3MiLCJjbG9zZWJveCIsImliIiwiY2xvc2UiLCJpbml0VGhlbWVNYXAiLCIkZmlyc3RtYXJrZXIiLCJmaXJzdCIsImNvbnRhaW5lcklkIiwiYWRkTGlzdGVuZXJPbmNlIiwic2V0TWFya2VycyIsImFsbF9tYXJrZXJzIiwiZGVsZXRlTWFya2VycyIsImxhdGxuZ2JvdW5kcyIsIkxhdExuZ0JvdW5kcyIsImluZGV4IiwiZWwiLCJleHRlbmQiLCJtYXJrZXJzIiwicHVzaCIsImZpdEJvdW5kcyIsImNsZWFyTWFya2VycyIsInNldEFsbE1hcCIsImkiLCJzZXRNYXAiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0MsWUFFQSxJQUFJQSxHQUFJQyxNQUNSRCxHQUFFRSxVQUFVQyxNQUFNLFdBaURWLFFBQVNDLEdBQWNDLEdBQ25CLEdBQUlDLEdBQVcsR0FBSUMsUUFBT0MsS0FBS0MsT0FBT0osRUFBV0ssS0FBSyxPQUFPTCxFQUFXSyxLQUFLLFFBQ3pFQyxHQUNGQyxLQUFNQyxTQUFTQyxPQUFPQyxtQkFBbUJDLHVCQUN6Q0MsVUFBV1YsT0FBT0MsS0FBS1UsVUFBVUMsUUFDakNDLE9BQVFkLEVBQ1JlLGtCQUFrQixFQUNsQkMsYUFBYSxFQUNiQyxhQUFhLEVBQ2JDLG9CQUNDQyxNQUFPbEIs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SUFDbkNMLFFBQVFLLEdBQUdDLE9BQU83RixHQWhHcEIsR0FBSXdFLElBQUssS0FLTDFHLEVBQUlDLE9BR0ppQyxJQUFNLEtBQ051RjtDQ1RKLFdBQ0MsR0FBSXpILEdBQUlDLE1BRUpELEdBQUUsK0JBQStCeUYsUUFLbkN4RiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciAkID0galF1ZXJ5O1xuXHQkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1x0XG5cblxuXHRcdCQoJy5tYXRjaEhlaWdodCcpLm1hdGNoSGVpZ2h0KCk7XG5cblx0XHQvKnZhciBhbmltYXRlID0gJCgnLmJhbm5lckhvbWUnKTtcblx0XHRmdW5jdGlvbiBsb29wYmFja2dyb3VuZCgpIHtcblx0XHQgICAgYW5pbWF0ZS5jc3MoJ2JhY2tncm91bmQtcG9zaXRpb24nLCAnMHB4IDBweCcpO1xuXHRcdCAgICAkKHtwb3NpdGlvbl94OiAwLCBwb3NpdGlvbl95OiAwfSkuYW5pbWF0ZSh7cG9zaXRpb25feDogLTUwMDAsIHBvc2l0aW9uX3k6IDB9LCB7XG5cdFx0ICAgICAgICBkdXJhdGlvbjogNDUwMDAsXG5cdFx0ICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxuXHRcdCAgICAgICAgc3RlcDogZnVuY3Rpb24oKSB7XG5cdFx0ICAgICAgICAgICAgYW5pbWF0ZS5jc3MoJ2JhY2tncm91bmQtcG9zaXRpb24nLCB0aGlzLnBvc2l0aW9uX3grJ3B4ICcrdGhpcy5wb3NpdGlvbl95KydweCcpO1xuXHRcdCAgICAgICAgfSxcblx0XHQgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblx0XHQgICAgICAgICAgICBsb29wYmFja2dyb3VuZCgpO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICB9KTtcblx0XHR9XG5cdFx0bG9vcGJhY2tncm91bmQoKTsqL1xuXG5cdFx0JCgnLmJhbm5lcicpLnBhcmFsbGF4KCk7XG5cblx0XHQkKCcuc2Vjb25kQmFubmVyJykucGFyYWxsYXgoKTtcblxuXHRcdC8vc2ltcGxlIGFsdGVybmF0aXZlIGxpZ2h0Ym94IGZvciBjYXNhc3luYyAodHVybiBvZmYgRmVhdGhlciBMaWdodCB3aXRoaW4gdGhlIGJhY2tlbmQgdG8gYXZvaWQgY29uZmxpY3RzKVxuXHRcdC8vJCgnLnByb3BlcnR5LWltYWdlLWdhbGxlcnknKS5mYW5jeWJveCgpO1xuXG5cdFx0Ly9mYW5jeWJveCBpbXBsZW1lbnRhdGlvbiBleGFtcGxlIGZvciBhbGwgaW1hZ2VzICh5b3UgbWF5IHR1cm4gdGhpcyBvZmYgYW5kIGFjdGl2YXRlIHRoZSBhYm92ZSBzdGF0ZW1lbnQgaW5zdGVhZCBpZiBvbmx5IHRoZSBwbHVnaW4gc2hvdWxkIGJlIHRhcmdldGVkKVxuXHRcdGpRdWVyeS5mbi5nZXRUaXRsZSA9IGZ1bmN0aW9uKCkgeyAvLyBDb3B5IHRoZSB0aXRsZSBvZiBldmVyeSBJTUcgdGFnIGFuZCBhZGQgaXQgdG8gaXRzIHBhcmVudCBBIHNvIHRoYXQgZmFuY3lib3ggY2FuIHNob3cgdGl0bGVzXG5cdFx0XHR2YXIgYXJyID0galF1ZXJ5KFwiYS5mYW5jeWJveFwiKTtcblx0XHRcdGpRdWVyeS5lYWNoKGFyciwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciB0aXRsZSA9IGpRdWVyeSh0aGlzKS5jaGlsZHJlbihcImltZ1wiKS5hdHRyKFwidGl0bGVcIik7XG5cdFx0XHRcdGpRdWVyeSh0aGlzKS5hdHRyKCd0aXRsZScsdGl0bGUpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdHZhciB0aHVtYm5haWxzID0galF1ZXJ5KFwiYTpoYXMoaW1nKVwiKS5ub3QoXCIubm9saWdodGJveFwiKS5maWx0ZXIoIGZ1bmN0aW9uKCkgeyByZXR1cm4gL1xcLihqcGU/Z3xwbmd8Z2lmfGJtcCkkL2kudGVzdChqUXVlcnkodGhpcykuYXR0cignaHJlZicpKSB9KTtcblx0XHR0aHVtYm5haWxzLmFkZENsYXNzKFwiZmFuY3lib3hcIikuYXR0cihcInJlbFwiLFwiZmFuY3lib3hcIikuZ2V0VGl0bGUoKTtcblx0XHRqUXVlcnkoXCJhLmZhbmN5Ym94XCIpLmZhbmN5Ym94KCk7XG5cblx0XHQvL21vYmlsZSBoZWFkZXIgbmF2IGNsaWNrIHRvZ2dsZXMgYWxzb1xuXHRcdCQoJy5uYXZiYXItaGVhZGVyJykuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgIFx0aWYgKCQoZXZlbnQudGFyZ2V0KS5oYXNDbGFzcygnbmF2YmFyLWhlYWRlcicpIHx8ICQoZXZlbnQudGFyZ2V0KS5oYXNDbGFzcygnbmF2YmFyLWJyYW5kJykpIHtcblx0ICAgIFx0XHQkKHRoaXMpLmZpbmQoJy5uYXZiYXItdG9nZ2xlJykuY2xpY2soKTtcblx0ICAgIFx0fVxuXHQgICAgfSk7XG5cblx0ICAgIC8vZ29vZ2xlIG1hcHNcblx0ICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplTWFwKCRtYXB3cmFwZXIpIHtcblx0ICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZygkbWFwd3JhcGVyLmRhdGEoJ2xhdCcpLCRtYXB3cmFwZXIuZGF0YSgnbG5nJykpO1xuXHQgICAgICAgICAgICB2YXIgbWFwT3B0aW9ucyA9IHtcblx0ICAgICAgICAgICAgICB6b29tOiBwYXJzZUludCh3aW5kb3cuY2FzYXdwT3B0aW9uUGFyYW1zLmdvb2dsZV9tYXBzX3pvb21sZXZlbCksXG5cdCAgICAgICAgICAgICAgbWFwVHlwZUlkOiBnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUCxcblx0ICAgICAgICAgICAgICBjZW50ZXI6IGxvY2F0aW9uLFxuXHQgICAgICAgICAgICAgIGRpc2FibGVEZWZhdWx0VUk6IGZhbHNlLFxuXHQgICAgICAgICAgICAgIHpvb21Db250cm9sOiB0cnVlLFxuXHQgICAgICAgICAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZSxcblx0ICAgICAgICAgICAgICB6b29tQ29udHJvbE9wdGlvbnM6IHtcblx0ICAgICAgICAgICAgICBcdHN0eWxlOiBnb29nbGUubWFwcy5ab29tQ29udHJvbFN0eWxlLlNNQUxMLFxuXHQgICAgICAgICAgICAgIFx0cG9zaXRpb246IGdvb2dsZS5tYXBzLkNvbnRyb2xQb3NpdGlvbi5MRUZUX0JPVFRPTVxuXHQgICAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgICAgbWFwVHlwZUNvbnRyb2xPcHRpb25zOiB7XG5cdCAgICAgICAgICAgICAgXHRtYXBUeXBlSWRzOiBbZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVAsICdncmF5X21hcCddXG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAkbWFwd3JhcGVyLnNob3coKTtcblx0ICAgICAgICAgICAgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwLWNhbnZhcycpLCBtYXBPcHRpb25zKTtcblxuXHQgICAgICAgICAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG5cdCAgICAgICAgICAgICAgICBtYXA6IG1hcCxcblx0ICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBsb2NhdGlvbixcblx0ICAgICAgICAgICAgICAgIGljb246IG5ldyBnb29nbGUubWFwcy5NYXJrZXJJbWFnZShcblx0ICAgICAgICAgICAgICAgIFx0XHQnL3dwLWNvbnRlbnQvdGhlbWVzL21vZXNzaW5nZXIvaW1nL2xvY2F0aW9uWDIucG5nJyxcblx0ICAgICAgICAgICAgICAgIFx0XHRuZXcgZ29vZ2xlLm1hcHMuU2l6ZSg2MCw5NiksXG5cdCAgICAgICAgICAgICAgICBcdFx0bnVsbCxcblx0ICAgICAgICAgICAgICAgIFx0XHRudWxsLFxuXHQgICAgICAgICAgICAgICAgXHRcdG5ldyBnb29nbGUubWFwcy5TaXplKDMwLCA0OClcblx0ICAgICAgICAgICAgICAgIFx0KVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgbWFwLm1hcFR5cGVzLnNldCgnZ3JheV9tYXAnLFxuXHQgICAgICAgICAgICBcdG5ldyBnb29nbGUubWFwcy5TdHlsZWRNYXBUeXBlKFt7c3R5bGVyczogW3tzYXR1cmF0aW9uOiAtOTB9XX1dLFxuXHQgICAgICAgICAgICBcdFx0e25hbWU6IFwiR3JheSBNYXBcIn0pKTtcblx0ICAgICAgICAgICAgbWFwLnNldE1hcFR5cGVJZCgnZ3JheV9tYXAnKTtcblx0ICAgICAgICB9XG5cdCAgICAgICBcblx0ICAgICAgICAgICAgaWYgKCQoJy5jYXNhd3AtbWFwJykubGVuZ3RoICYmIGdvb2dsZSkge1xuXHQgICAgICAgICAgICAgICAgJCgnLmNhc2F3cC1tYXAnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyICRtYXB3cmFwZXIgPSAkKHRoaXMpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICgkbWFwd3JhcGVyLmRhdGEoJ2xhdCcpICYmICRtYXB3cmFwZXIuZGF0YSgnbG5nJykpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZU1hcCgkbWFwd3JhcGVyKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXG5cblx0ICAgIFx0ICAgICQoJy5vcGVuJykuY2xpY2soZnVuY3Rpb24oKSB7XG5cdCAgICBcdCAgICBcbiAgICAgICAgXHRcdFx0JCh0aGlzKS5maW5kKCcuZmEnKS5yZW1vdmVDbGFzcygnZmEtbWludXMnKS5hZGRDbGFzcygnZmEtcGx1cycpO1x0ICAgICAgICBcblx0ICAgIFx0XHRcblx0ICAgIFx0ICAgIFx0XG5cdCAgICBcdCAgICB9KTtcblxuICAgICAgICBcdCAgICAkKCcuY29sbGFwc2UtdG9nZ2xlJykuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgXHQgICAgXHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBcdCAgICBcdGlmIChhY2NvcmRpb25Jc09wZW4oJCh0aGlzKSkpIHtcbiAgICAgICAgXHQgICAgXHRcdHJlc2V0QWNjb3JkaW9uKCk7XG4gICAgICAgICAgICBcdFx0XHRvcGVuQWNvb3JkaW9uSXRlbSgkKHRoaXMpKTtcbiAgICAgICAgXHQgICAgXHR9IGVsc2Uge1xuICAgICAgICBcdCAgICBcdFx0cmVzZXRBY2NvcmRpb24oKTtcbiAgICAgICAgXHQgICAgXHRcdGNsb3NlQWNvb3JkaW9uSXRlbSgkKHRoaXMpKTtcbiAgICAgICAgXHQgICAgXHRcdFxuICAgICAgICBcdCAgICBcdH07XG4gICAgICAgIFx0ICAgIFx0XG4gICAgICAgIFx0ICAgIH0pO1xuXG5cdCAgICBcdCAgICBcblxuXG4gICAgICAgIFx0ICAgIGZ1bmN0aW9uIHJlc2V0QWNjb3JkaW9uKCl7XG4gICAgICAgIFx0ICAgIFxuICAgICAgICBcdCAgICBcdCQoJy5jb2xsYXBzZS10b2dnbGUnKS5maW5kKCcuZmEnKS5yZW1vdmVDbGFzcygnZmEtbWludXMnKS5hZGRDbGFzcygnZmEtcGx1cycpO1xuICAgICAgICBcdCAgICBcdCQoJy5wYW5lbC1jb2xsYXBzZTpub3QoLmNvbGxhcHNlKScpLnNsaWRlVXAoXCJzbG93XCIpO1xuICAgICAgICBcdCAgICB9XG5cbiAgICAgICAgXHQgICAgZnVuY3Rpb24gb3BlbkFjb29yZGlvbkl0ZW0oJGVsZW0pe1xuICAgICAgICBcdCBcdFx0dmFyICRzaGVsZiA9ICRlbGVtLnBhcmVudCgpLm5leHQoKTtcblxuICAgICAgICBcdCAgICBcdCRlbGVtLmZpbmQoJy5mYScpLnJlbW92ZUNsYXNzKCdmYS1wbHVzJykuYWRkQ2xhc3MoJ2ZhLW1pbnVzJyk7XG4gICAgICAgIFx0ICAgIFx0JHNoZWxmLnNsaWRlRG93bignc2xvdycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIFx0ICAgIFx0XHQkc2hlbGYucmVtb3ZlQ2xhc3MoXCJjb2xsYXBzZVwiKTtcbiAgICAgICAgXHQgICAgXHR9KTtcbiAgICAgICAgXHQgICAgfVxuXG4gICAgICAgIFx0ICAgIGZ1bmN0aW9uIGNsb3NlQWNvb3JkaW9uSXRlbSgkZWxlbSl7XG4gICAgICAgIFx0ICAgIFx0dmFyICRzaGVsZiA9ICRlbGVtLnBhcmVudCgpLm5leHQoKTtcblxuICAgICAgICBcdCAgICBcdCRlbGVtLmZpbmQoJy5mYScpLnJlbW92ZUNsYXNzKCdmYS1taW51cycpLmFkZENsYXNzKCdmYS1wbHVzJyk7XG4gICAgICAgIFx0ICAgIFx0JHNoZWxmLnNsaWRlVXAoJ3Nsb3cnLCBmdW5jdGlvbigpe1xuICAgICAgICBcdCAgICBcdFx0JHNoZWxmLmFkZENsYXNzKFwiY29sbGFwc2VcIik7XG4gICAgICAgIFx0ICAgIFx0fSk7XG4gICAgICAgIFx0ICAgIH1cblxuICAgICAgICBcdCAgICBmdW5jdGlvbiBhY2NvcmRpb25Jc09wZW4oJGVsZW0pe1xuICAgICAgICBcdCAgICBcdFx0XG4gICAgICAgIFx0ICAgIFx0cmV0dXJuICgkZWxlbS5maW5kKCcuZmEnKS5oYXNDbGFzcygnZmEtcGx1cycpID8gdHJ1ZSA6IGZhbHNlKTtcbiAgICAgICAgXHQgICAgfVxuXG5cblx0ICAgIC8qLS0tLS0tLS0tLUdvb2dsZSBNYXBzLS0tLS0tLS0tLS0tKi9cblxuXHQgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcblx0ICAgIFx0dmFyIG1hcE9wdGlvbnMgPSB7XG5cdCAgICBcdFx0Y2VudGVyOiB7bGF0OiA0Ni45MzM4OTYsIGxuZzogNy40MjMwOTV9LFxuXHQgICAgXHRcdHNjcm9sbHdoZWVsOiBmYWxzZSxcblx0ICAgIFx0XHR6b29tOiAxNCxcblx0ICAgIFx0XHRtYXBUeXBlQ29udHJvbE9wdGlvbnM6IHtcblx0ICAgIFx0XHRcdG1hcFR5cGVJZHM6IFsnZ3JheV9tYXAnLCBnb29nbGUubWFwcy5NYXBUeXBlSWQuU0FURUxMSVRFXVxuXHQgICAgXHRcdH1cblx0ICAgIFx0fTtcblx0ICAgIFx0dmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnb29nbGVNYXBcIiksXG5cdCAgICBcdFx0bWFwT3B0aW9ucyk7XG5cblxuXHQgICAgXHR2YXIgbWFya2VycG9zID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyg0Ni45MzM4OTYsIDcuNDIzMDk1KTtcblx0ICAgIFx0dmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuXHQgICAgXHRcdHBvc2l0aW9uOiBtYXJrZXJwb3MsXG5cdCAgICBcdFx0bWFwOiBtYXAsXG5cdCAgICBcdFx0dGl0bGU6IFwiTcO2c3NpbmdlciBJbW1vYmlsaWVuXCIsXG5cdCAgICBcdFx0dXJsOiBcImh0dHBzOi8vd3d3Lmdvb2dsZS5jaC9tYXBzL3BsYWNlL01heCtNJUMzJUI2c3Npbmdlci9ANDYuOTMzODkzMSw3LjQyMzA5MSwxNXovZGF0YT0hNG0yITNtMSExczB4MDoweGUxNDNiOWY0NDAyMGVmNjU/c2E9WCZ2ZWQ9MGFoVUtFd2puME5PSjhjWE9BaFZHOFJRS0haTmlCTHNRX0JJSWFqQUtcIixcblx0ICAgIFx0XHRpY29uOiBuZXcgZ29vZ2xlLm1hcHMuTWFya2VySW1hZ2UoXG5cdCAgICBcdFx0XHRcdCcvd3AtY29udGVudC90aGVtZXMvbW9lc3Npbmdlci9pbWcvbW9lLnBuZycsXG5cdCAgICBcdFx0XHRcdG5ldyBnb29nbGUubWFwcy5TaXplKDQwLDUyKSxcblx0ICAgIFx0XHRcdFx0bnVsbCxcblx0ICAgIFx0XHRcdFx0bnVsbCxcblx0ICAgIFx0XHRcdFx0bmV3IGdvb2dsZS5tYXBzLlNpemUoNDAsNTIpXG5cdCAgICBcdFx0XHQpXG5cdCAgICBcdH0pO1xuXG5cblx0ICAgIFx0Ly8gc2V0IGdyYXkgc3R5bGVcblx0ICAgIFx0bWFwLm1hcFR5cGVzLnNldCgnZ3JheV9tYXAnLFxuXHQgICAgXHRcdG5ldyBnb29nbGUubWFwcy5TdHlsZWRNYXBUeXBlKFt7c3R5bGVyczogW3tzYXR1cmF0aW9uOiAtOTB9XX1dLFxuXHQgICAgXHRcdFx0e25hbWU6IFwiS2FydGVcIn0pKTtcblx0ICAgIFx0bWFwLnNldE1hcFR5cGVJZCgnZ3JheV9tYXAnKTtcblxuXHQgICAvKiBcdHZhciBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coKTtcblx0ICAgIFx0aW5mb3dpbmRvdy5zZXRDb250ZW50KCc8aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmUgbW9lTG9nb1wiIHNyYz1cIi93cC1jb250ZW50L3RoZW1lcy9tb2Vzc2luZ2VyL2ltZy9sb2dvLnBuZ1wiPicpO1xuXHQgICAgXHRpbmZvd2luZG93Lm9wZW4obWFwLCBtYXJrZXIpOyovXG5cblx0ICAgIFx0Z29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHR3aW5kb3cub3Blbih0aGlzLnVybCwgJ19ibGFuaycpO1xuXHQgICAgXHR9KTtcblx0ICAgIH1cblx0ICAgIGlmICgkKFwiI2dvb2dsZU1hcFwiKS5sZW5ndGgpIHtcblx0ICAgIFx0Z29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIod2luZG93LCAnbG9hZCcsIGluaXRpYWxpemUpO1xuXHQgICAgfTtcblxuXHQgICAgJCgnI25hdi1pY29uMSwjbmF2LWljb24yLCNuYXYtaWNvbjMsI25hdi1pY29uNCcpLmNsaWNrKGZ1bmN0aW9uKCl7XG5cdCAgICBcdFx0JCh0aGlzKS50b2dnbGVDbGFzcygnb3BlbicpO1xuXHQgICAgXHR9KTtcblxuXG5cdCAgICAkKCcuY2FzYXdwLXByb3BlcnR5JykuY2xpY2soZnVuY3Rpb24oKXtcblxuXHQgICAgICAgIHZhciB1cmwgPSAkKHRoaXMpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyk7XG5cdCAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG5cblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9KTtcblxuXG5cdCAgICAvKiQoJy50ZWFtLW1lbWJlcicpLmNsaWNrKGZ1bmN0aW9uKCl7XG5cdCAgICBcdHZhciB1cmwgPSAkKHRoaXMpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyk7XG5cdCAgICBcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xuXG5cdCAgICBcdHJldHVybiBmYWxzZTtcblx0ICAgIH0pOyovXG5cblx0ICAgICQoJy5jYXNhd3AtcHJvcGVydHknKS5jbGljayhmdW5jdGlvbigpe1xuXHQgICAgXHR2YXIgdXJsID0galF1ZXJ5KHRoaXMpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyk7XG5cdCAgICBcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xuXG5cdCAgICBcdHJldHVybiBmYWxzZTtcblx0ICAgIH0pO1xuXG5cblx0ICAgICQuZm4uY2xpY2t0b2dnbGUgPSBmdW5jdGlvbihhLCBiKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgdmFyIGNsaWNrZWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgJCh0aGlzKS5jbGljayhmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChjbGlja2VkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2xpY2tlZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBjbGlja2VkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblxuXHQgICAgJCgnLnJlYWRtb3JlLWNvbnRlbnRzJykuY3NzKCdoZWlnaHQnLCAkKCcucmVhZG1vcmUtY29udGVudHMgLnRlYXNlcicpLmhlaWdodCgpICsgMzApO1xuXHQgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0ICAgIFx0JCgnLnJlYWRtb3JlLWNvbnRlbnRzJykucmVtb3ZlQ2xhc3MoJ3RyYW5zaXRpb24tZGVsYXllcicpO1xuXHQgICAgfSwgODAwKTtcblx0ICAgIFxuXHQgICAgJCgnLnJlYWRtb3JlLXdyYXAgLm1vcmUnKS5jbGljayhmdW5jdGlvbigpIHtcblx0ICAgIFx0dmFyICRyZWFkbW9yZSA9ICQodGhpcykuc2libGluZ3MoJy5yZWFkbW9yZS1jb250ZW50cycpO1xuXHQgICAgXHRpZiAoJHJlYWRtb3JlLmhhc0NsYXNzKCdzaG93LWZ1bGwnKSkge1xuXHQgICAgXHRcdCRyZWFkbW9yZS5jc3MoJ2hlaWdodCcsICQoJy5yZWFkbW9yZS1jb250ZW50cyAudGVhc2VyJykuaGVpZ2h0KCkgKyAzMCk7XG5cdCAgICBcdFx0XG5cdCAgICBcdFx0JCh0aGlzKS5maW5kKCcuY29sbGFwc2UtYXJyb3cnKS5jc3MoJ3RyYW5zZm9ybScsICdyb3RhdGUoMGRlZyknKVxuXG5cdCAgICBcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0ICAgIFx0XHRcdCRyZWFkbW9yZS5yZW1vdmVDbGFzcygnc2hvdy1mdWxsJyk7XG5cdCAgICBcdFx0XHQkcmVhZG1vcmUucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ3Nob3ctZnVsbCcpO1xuXHQgICAgXHRcdH0sIDgwMCk7XG5cdCAgICBcdFxuXHQgICAgXHRcdFxuXHQgICAgXHR9IGVsc2Uge1xuXHQgICAgXHRcdCRyZWFkbW9yZS5hZGRDbGFzcygnc2hvdy1mdWxsJyk7XG5cdCAgICBcdFx0JHJlYWRtb3JlLnBhcmVudCgpLmFkZENsYXNzKCdzaG93LWZ1bGwnKTtcblx0ICAgIFx0XHQkcmVhZG1vcmUuY3NzKCdoZWlnaHQnLCAkKCcucmVhZG1vcmUtY29udGVudHMgLmNvbXBsZXRlJykuaGVpZ2h0KCkgKyAzMCk7XG5cdCAgICBcdFx0JCh0aGlzKS5maW5kKCcuY29sbGFwc2UtYXJyb3cnKS5jc3MoJ3RyYW5zZm9ybScsICdyb3RhdGUoMTgwZGVnKScpXG5cdCAgICBcdH07XG5cdCAgICBcdFxuXHQgICAgfSk7XG5cblx0fSk7XG4gXG59KShqUXVlcnkpOyIsInZhciBpYiA9IG51bGw7XG5mdW5jdGlvbiBjbG9zZWJveCgpe1xuXHRpYi5jbG9zZSgpO1x0XG59XG5cbnZhciAkID0galF1ZXJ5O1xuXG5cbnZhciBtYXAgPSBudWxsO1xudmFyIG1hcmtlcnMgPSBbXTtcbmZ1bmN0aW9uIGluaXRUaGVtZU1hcCgpIHtcblxuXG5cdC8vIHNldCBmaXJzdCBtYXJrZXJcblx0JGZpcnN0bWFya2VyID0gJCgnI2NzLW1hcCcpLnNpYmxpbmdzKCcubWFya2VyJykuZmlyc3QoKTtcblx0dmFyIGxhdCA9ICRmaXJzdG1hcmtlci5kYXRhKCdsYXQnKTtcblx0dmFyIGxuZyA9ICRmaXJzdG1hcmtlci5kYXRhKCdsbmcnKTtcblx0dmFyIGdlb2pzb24gPSBbXTtcblxuXHR2YXIgbWFwT3B0aW9ucyA9IHtcblx0XHR6b29tOiAxNCxcblx0XHRzY3JvbGx3aGVlbDogZmFsc2UsXG5cdFx0Y2VudGVyOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdCxsbmcpLFxuXHRcdGRpc2FibGVEZWZhdWx0VUk6IGZhbHNlLFxuXHRcdHpvb21Db250cm9sOiB0cnVlLFxuXHRcdHpvb21Db250cm9sT3B0aW9uczoge1xuXHRcdFx0c3R5bGU6IGdvb2dsZS5tYXBzLlpvb21Db250cm9sU3R5bGUuU01BTEwsXG5cdFx0XHRwb3NpdGlvbjogZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLkxFRlRfQk9UVE9NXG5cdFx0fSxcblx0XHRtYXBUeXBlQ29udHJvbE9wdGlvbnM6IHtcblx0XHRcdG1hcFR5cGVJZHM6IFsnZ3JheV9tYXAnLCBnb29nbGUubWFwcy5NYXBUeXBlSWQuU0FURUxMSVRFXVxuXHRcdH1cblx0fTtcblxuXHQvLyBNYXAgaW4gQ29udGVudFxuXHR2YXIgY29udGFpbmVySWQgPSAnY3MtbWFwJztcblx0bWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCksIG1hcE9wdGlvbnMpO1xuXG5cdC8vIHNldCBncmF5IHN0eWxlXG5cdG1hcC5tYXBUeXBlcy5zZXQoJ2dyYXlfbWFwJyxcblx0XHRuZXcgZ29vZ2xlLm1hcHMuU3R5bGVkTWFwVHlwZShbe3N0eWxlcnM6IFt7c2F0dXJhdGlvbjogLTkwfV19XSxcblx0XHRcdHtuYW1lOiBcIkthcnRlXCJ9KSk7XG5cdG1hcC5zZXRNYXBUeXBlSWQoJ2dyYXlfbWFwJyk7XG5cblx0Ly8gc2V0IG1hcmtlciB3aGVuIG1hcCBoYXMgbG9hZGVkXG5cdGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyT25jZShtYXAsICd0aWxlc2xvYWRlZCcsIGZ1bmN0aW9uKCl7XG5cdFx0c2V0TWFya2VycygpO1xuXHR9KTtcbn1cblxuLyppZigkKCcjY3MtbWFwJykubGVuZ3RoID4gMCkge1xuXHRnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcih3aW5kb3csICdsb2FkJywgaW5pdGlhbGl6ZSk7XHRcbn0qL1xuXG5mdW5jdGlvbiBzZXRNYXJrZXJzKCkge1xuXHR2YXIgYWxsX21hcmtlcnMgPSAkKCcjY3MtbWFwJykuc2libGluZ3MoJy5tYXJrZXInKTtcblx0ZGVsZXRlTWFya2VycygpO1xuXHR2YXIgbGF0bG5nYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xuXG5cdCQuZWFjaChhbGxfbWFya2VycywgZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG5cdFx0bGF0ID0gJChlbCkuZGF0YSgnbGF0Jyk7XG5cdFx0bG5nID0gJChlbCkuZGF0YSgnbG5nJyk7XG5cdFx0XG5cdFx0aWYgKGxhdCAmJiBsbmcpIHtcblx0XHRcdG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuXHRcdFx0XHRwb3NpdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsYXQsIGxuZyksXG5cdFx0XHRcdG1hcDogbWFwLFxuXHRcdFx0fSk7XG5cdFx0XHRnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHdpbmRvdy5vcGVuKFwiaHR0cDovL21hcHMuZ29vZ2xlLmNvbS9tYXBzP3E9bG9jOlwiICsgbGF0ICsgXCIsXCIgKyBsbmcgKyBcIlwiLCAnX2JsYW5rJyk7XG5cdFx0XHR9KTtcblxuXHRcdFx0bGF0bG5nYm91bmRzLmV4dGVuZChuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdCwgbG5nKSk7XG5cblx0XHRcdG1hcmtlcnMucHVzaChtYXJrZXIpO1xuXHRcdH1cblx0fSk7XG5cdGlmIChhbGxfbWFya2Vycy5sZW5ndGggPiAxKSB7XG5cdFx0bWFwLmZpdEJvdW5kcyhsYXRsbmdib3VuZHMpO1xuXHR9O1xufVxuXHRcbi8vIERlbGV0ZXMgYWxsIG1hcmtlcnMgaW4gdGhlIGFycmF5IGJ5IHJlbW92aW5nIHJlZmVyZW5jZXMgdG8gdGhlbS5cbmZ1bmN0aW9uIGRlbGV0ZU1hcmtlcnMoKSB7XG5cdGNsZWFyTWFya2VycygpO1xuXHRtYXJrZXJzID0gW107XG59XG5cbi8vIFJlbW92ZXMgdGhlIG1hcmtlcnMgZnJvbSB0aGUgbWFwLCBidXQga2VlcHMgdGhlbSBpbiB0aGUgYXJyYXkuXG5mdW5jdGlvbiBjbGVhck1hcmtlcnMoKSB7XG5cdHNldEFsbE1hcChudWxsKTtcbn1cblxuLy8gU2V0cyB0aGUgbWFwIG9uIGFsbCBtYXJrZXJzIGluIHRoZSBhcnJheS5cbmZ1bmN0aW9uIHNldEFsbE1hcChtYXApIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0bWFya2Vyc1tpXS5zZXRNYXAobWFwKTtcblx0fVxufVxuIiwiKGZ1bmN0aW9uICgpIHtcblx0dmFyICQgPSBqUXVlcnk7XG5cdFxuXHRpZiAoJCgnLnBhZ2UtdGVtcGxhdGUtdGVhbS1hcmNoaXZlJykubGVuZ3RoKSB7XG5cdFx0Ly8gUHV0IHlvdXIgc3BlY2lmaWMgQ29kZSBoZXJlXG5cdH07XG5cdC8vIFB1dCB5b3VyIGdsb2JhbCBDb2RlIGhlcmVcblxufSkoalF1ZXJ5KTsiXX0=
